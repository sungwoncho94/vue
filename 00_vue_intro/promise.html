<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- Axios -->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <title>Promise</title>
</head>
<body>
  <script>
    // promise : 비동기 작업을 처리할 때 사용하는 객체
    // 성공하면 '.then' 구문으로, 실패하면 '.catch' 구문으로 보내준다
    // -> axios.get(API_URL)
    // Promise {<pending>}  (성공했기 때문에 Promise 라는 응답이 온다)
    // -> const promise = axios.get(API_URL)
    // undefined
    // -> promise.then(response => {
    //      console.log(response)
    //    })
    const API_URL = 'https://dog.ceo/api/breeds/image/random'  // 가져오는데 성공했다면 성공 -> .then이라는 함수를 이용해서 풀어줘야한다
    // const BAD_API_URL = 'https://api.thecatapi.com/v1/images/sear'
    axios.get(API_URL)  //  promise객체이고, 상태는 <resovled>임 -> project 성공
      .then(response => {  // Promise의 value를 .then으로 풀어준다.
        console.log(response)
      })  
      .catch(error => {  // 만약 project가 rejected라면 이곳으로 들어옴
        console.error(error)  // 실패했다면 .catch라는 함수를 통해 error를 어떻게 핸들링할지 정함
      })


    // 절망편 -> error메소드는 catch를 통해서 잡아준다
    // const BAD_API_URL = 'https://api.thecatapi.com/v1/images/sear'
    // const bad = axios.get(BAD_API_URL)
    // bad.catch(error => {
    //   console.log(error)
    // })

  </script>
</body>
</html>